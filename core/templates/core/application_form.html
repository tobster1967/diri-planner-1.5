{% extends "core/base.html" %}

{% block title %}{% if object %}Edit Application{% else %}Create Application{% endif %}{% endblock %}

{% block content %}
<h2>{% if object %}Edit Application: {{ object.name }}{% else %}Create New Application{% endif %}</h2>

<form method="post">
    {% csrf_token %}
    
    {% if form.errors %}
    <div class="message error">
        <strong>Please correct the errors below:</strong>
        {{ form.errors }}
    </div>
    {% endif %}
    
    {% for field in form %}
    <div class="form-group">
        <label for="{{ field.id_for_label }}">
            {{ field.label }}
            {% if field.field.required %}<span style="color: red;">*</span>{% endif %}
        </label>
        {{ field }}
        {% if field.help_text %}
        <small style="color: #666;">{{ field.help_text }}</small>
        {% endif %}
        {% if field.errors %}
        <div style="color: #e74c3c; margin-top: 5px;">
            {{ field.errors }}
        </div>
        {% endif %}
    </div>
    {% endfor %}
    
    <div class="form-actions">
        <button type="submit" class="btn">{% if object %}Update{% else %}Create{% endif %}</button>
        <a href="{% url 'application-list' %}" class="btn btn-secondary">Cancel</a>
        {% if object %}
        <a href="{% url 'application-delete' object.pk %}" class="btn btn-danger">Delete</a>
        {% endif %}
    </div>
</form>
{% endblock %}